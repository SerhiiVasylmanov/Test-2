{"version":3,"sources":["scripts/index.js"],"names":["Burger","HEADER_BURGER","HEADER_MENU","BODY","ACTIVE","LOCK","WRAPPER","constructor","rootEl","this","$rootEl","bindEvents","$wrapperEl","init","findeElementByClass","selector","querySelector","heading","addEventListener","onBurgerClick","e","bindStyles","burgerEl","menuEl","children","main","classList","toggle","html","document","header","scrollChange","onBodyScroll","scrollpos","window","scrollY","innerWidth","add","remove","btnReviewsLeft","btnReviewsRight","cardsReviews","btnPaginations","onSliderClick","wrapper","Visible","target","targetPosition","pageYOffset","getBoundingClientRect","top","pageXOffset","left","right","bottom","windowPosition","closest","cardsMob","scrollLeft","offsetWidth","message","mail","form","formSubmit","preventDefault","let","error","parentElement","test","value","formValidate","console","log","serialise","innerHTML","style","color","setTimeout","nodeName","i","q","elements","length","name","type","push","encodeURIComponent","join"],"mappings":"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","file":"index.js","sourcesContent":["class Burger {\r\n    static HEADER_BURGER = 'header__burger';\r\n    static HEADER_MENU = 'header__menu';\r\n    static BODY = 'body';\r\n    static ACTIVE = 'active';\r\n    static LOCK = 'lock';\r\n    static WRAPPER = 'header-wrapper';\r\n\r\n    constructor(rootEl) {\r\n        this.$rootEl = rootEl;\r\n        this.bindEvents();\r\n        this.$wrapperEl = this.init();\r\n    }\r\n\r\n    init() {\r\n        return this.findeElementByClass(`.${Burger.WRAPPER}`);\r\n    }\r\n\r\n    findeElementByClass(selector) {\r\n        return this.$rootEl.querySelector(selector);\r\n    }\r\n\r\n    bindEvents() {\r\n        const heading = this.findeElementByClass(`.${Burger.HEADER_BURGER}`);\r\n\r\n        heading.addEventListener('click', (e) => this.onBurgerClick(e));\r\n    }\r\n\r\n    onBurgerClick(e) {\r\n        this.bindStyles()\r\n    }\r\n\r\n    bindStyles() {\r\n        const items = this.$wrapperEl.children;\r\n        const [logoEl, burgerEl, menuEl] = items;\r\n\r\n        const main = this.findeElementByClass(Burger.BODY);\r\n        main.classList.toggle(Burger.LOCK);\r\n\r\n        menuEl.classList.toggle(Burger.ACTIVE);\r\n        burgerEl.classList.toggle(Burger.ACTIVE);\r\n    }\r\n}\r\n\r\nconst html = document.querySelector('html')\r\n\r\nnew Burger(html);\r\n\r\n/////////////////////////Добавления класса хедеру////////////////////\r\n\r\nconst header = document.querySelector('.header');\r\nconst scrollChange = 80;\r\n\r\nwindow.addEventListener('scroll', onBodyScroll)\r\n\r\nfunction onBodyScroll() {\r\n    scrollpos = window.scrollY;\r\n\r\n    if (window.innerWidth > 768) {\r\n        if (scrollpos >= 150) {\r\n            header.classList.add('fx');\r\n        } else {\r\n            header.classList.remove('fx');\r\n        }\r\n    } else {\r\n        if (scrollpos >= 80) {\r\n            header.classList.add('bg');\r\n        } else {\r\n            header.classList.remove('bg');\r\n        }\r\n    }\r\n}\r\n//////////////////////////////////////////////////////////////////////\r\n\r\n/////////////////////////////////Управление скроллом/////////////////\r\nconst btnReviewsLeft = document.querySelector('.reviews__item-prew');\r\nconst btnReviewsRight = document.querySelector('.reviews__item-next');\r\nconst cardsReviews = document.querySelector('.reviews__list');\r\nconst btnPaginations = document.querySelector('.reviews__list_paginations');\r\n\r\nbtnPaginations.addEventListener('click', onSliderClick);\r\n\r\nfunction onSliderClick(e) {\r\n    const wrapper = document.querySelector('.reviews-wrapper');\r\n    var Visible = function (target) {\r\n        // Все позиции элемента\r\n        var targetPosition = {\r\n            top: window.pageYOffset + target.getBoundingClientRect().top,\r\n            left: window.pageXOffset + target.getBoundingClientRect().left,\r\n            right: window.pageXOffset + target.getBoundingClientRect().right,\r\n            bottom: window.pageYOffset + target.getBoundingClientRect().bottom\r\n        },\r\n            // Получаем позиции окна\r\n            windowPosition = {\r\n                top: window.pageYOffset + wrapper.getBoundingClientRect().top,\r\n                left: window.pageXOffset + wrapper.getBoundingClientRect().left - 25,\r\n                right: window.pageXOffset + wrapper.getBoundingClientRect().right + 25,\r\n                bottom: window.pageYOffset + wrapper.getBoundingClientRect().bottom\r\n            };\r\n\r\n        if (targetPosition.bottom > windowPosition.top && // Если позиция нижней части элемента больше позиции верхней чайти окна, то элемент виден сверху\r\n            targetPosition.top < windowPosition.bottom && // Если позиция верхней части элемента меньше позиции нижней чайти окна, то элемент виден снизу\r\n            targetPosition.right > windowPosition.left && // Если позиция правой стороны элемента больше позиции левой части окна, то элемент виден слева\r\n            targetPosition.left < windowPosition.right) { // Если позиция левой стороны элемента меньше позиции правой чайти окна, то элемент виден справа\r\n            // Если элемент полностью видно, то запускаем следующий код\r\n            e.target.closest('button').classList.add('disabled');\r\n        }\r\n    };\r\n\r\n    if (e.target.closest('.reviews__item-prew')) {\r\n        const cardEnd = document.querySelector('.reviews__list .reviews__item:first-child');\r\n\r\n        Visible(cardEnd);\r\n\r\n        if (('.reviews__item-next disabled')) {\r\n            btnReviewsRight.classList.remove('disabled');\r\n\r\n            if (window.innerWidth > 992) {\r\n                cardsReviews.scrollLeft -= 314;\r\n            }\r\n            else if (window.innerWidth < 992 && window.innerWidth > 768) {\r\n                cardsReviews.scrollLeft -= 335 + 20;\r\n            }\r\n            else {\r\n                const cardsMob = cardsReviews.offsetWidth;\r\n                cardsReviews.scrollLeft -= cardsMob + 20;\r\n            }\r\n        }\r\n\r\n    }\r\n    if (e.target.closest('.reviews__item-next')) {\r\n        const cardEnd = document.querySelector('.reviews__list .reviews__item:last-child');\r\n\r\n        Visible(cardEnd);\r\n\r\n        if (('.reviews__item-prev disabled')) {\r\n            btnReviewsLeft.classList.remove('disabled');\r\n\r\n            if (window.innerWidth > 992) {\r\n                cardsReviews.scrollLeft += 314;\r\n            }\r\n            else if (window.innerWidth < 992 && window.innerWidth > 768) {\r\n                cardsReviews.scrollLeft += 335 + 20;\r\n            }\r\n            else {\r\n                const cardsMob = cardsReviews.offsetWidth;\r\n                cardsReviews.scrollLeft += cardsMob + 20;\r\n            }\r\n        }\r\n    }\r\n}\r\n////////////////////////////Обработка формы/////////////////////////////////\r\nconst message = document.querySelector('.message');\r\nconst mail = document.querySelector('.mail');\r\nconst form = document.querySelector('.form');\r\n\r\nform.addEventListener('submit', formSubmit)\r\n\r\nfunction formSubmit(e) {\r\n    const form = document.querySelector('.form');\r\n    e.preventDefault();\r\n    let error = formValidate(form);\r\n\r\n    if (error === 0) {\r\n        console.log(mail.value);\r\n        console.log(serialise(form))\r\n        mail.value = '';\r\n        message.innerHTML = 'Email sent';\r\n        message.style.color = 'green';\r\n        setTimeout(() => {\r\n            message.innerHTML = '';\r\n            message.style.color = '';\r\n        }, 5000)\r\n\r\n    } else {\r\n        message.innerHTML = 'Fill in the correct email';\r\n        message.style.color = 'red';\r\n        setTimeout(() => {\r\n            message.innerHTML = '';\r\n            message.style.color = '';\r\n        }, 5000)\r\n    }\r\n\r\n    function formValidate() {\r\n        let error = 0;\r\n\r\n        formRemoveError(mail);\r\n\r\n        if (emailTest(mail)) {\r\n            formAddError(mail);\r\n            error++;\r\n        }\r\n        return error;\r\n    }\r\n    function formAddError() {\r\n        mail.parentElement.classList.add('_error');\r\n        mail.classList.add('_error');\r\n    }\r\n    function formRemoveError() {\r\n        mail.parentElement.classList.remove('_error');\r\n        mail.classList.remove('_error');\r\n    }\r\n    function emailTest() {\r\n        return !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/.test(mail.value);\r\n    }\r\n}\r\n\r\nfunction serialise(form) {\r\n    if (!form || form.nodeName !== \"FORM\") {\r\n        return false;\r\n    }\r\n\r\n    let i, q = [];\r\n    for (i = form.elements.length - 1; i >= 0; i = i - 1) {\r\n        if (form.elements[i].name === \"\") {\r\n            continue;\r\n        }\r\n        switch (form.elements[i].nodeName) {\r\n            case 'INPUT':\r\n                switch (form.elements[i].type) {\r\n                    case 'email':\r\n                    case 'submit':\r\n                        q.push(form.elements[i].name + \"=\" + encodeURIComponent(form.elements[i].value));\r\n                        break;\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    return q.join(\"&\");\r\n}\r\n///////////////////////////////////////////////////////////////////////////////////"]}